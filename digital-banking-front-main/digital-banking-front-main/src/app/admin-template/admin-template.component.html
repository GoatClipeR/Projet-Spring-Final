<div class="app-shell">
	<aside class="app-sidebar" [class.is-open]="sidebarOpen">
		<div class="app-sidebar-header">
			<a class="app-brand" routerLink="/admin/customers">
				<div class="app-brand-logo-circle">
					<i class="bi bi-building-fill"></i>
				</div>
				<span class="app-brand-text">MAGMA BANK</span>
			</a>
			<button class="btn btn-sm btn-outline-secondary d-md-none" type="button" (click)="closeSidebar()" aria-label="Close menu">
				<i class="bi bi-x-lg"></i>
			</button>
		</div>

		<nav class="app-nav">
			<a class="app-nav-link" routerLink="/admin/customers" routerLinkActive="active" (click)="closeSidebar()">
				<i class="bi bi-people"></i>
				<span>Clients</span>
			</a>
			<a class="app-nav-link" routerLink="/admin/accounts" routerLinkActive="active" (click)="closeSidebar()">
				<i class="bi bi-credit-card"></i>
				<span>Comptes</span>
			</a>
			<a class="app-nav-link" routerLink="/admin/chatbot" routerLinkActive="active" (click)="closeSidebar()">
				<i class="bi bi-chat-dots"></i>
				<span>Chatbot</span>
			</a>
			<a *ngIf="authService.roles.includes('ADMIN')" class="app-nav-link" routerLink="/admin/new-customer" routerLinkActive="active" (click)="closeSidebar()">
				<i class="bi bi-person-plus"></i>
				<span>Nouveau client</span>
			</a>
		</nav>

		<div class="app-sidebar-footer">
			<div class="small app-muted">Connecté en tant que</div>
			<div class="fw-semibold">{{ authService.username }}</div>
			<button class="btn btn-outline-danger w-100 mt-3" type="button" (click)="logout()">
				<i class="bi bi-box-arrow-right me-2"></i>
				Se déconnecter
			</button>
		</div>
	</aside>

	<div class="app-content">
		<header class="app-topbar">
			<button class="btn btn-outline-secondary d-md-none" type="button" (click)="toggleSidebar()" aria-label="Open menu">
				<i class="bi bi-list"></i>
			</button>

			<div class="app-topbar-title">Administration</div>

			<div class="ms-auto d-flex align-items-center gap-2">
				<span class="badge text-bg-light border">
					<i class="bi bi-person-circle me-1"></i>
					{{ authService.username }}
				</span>
			</div>
		</header>

		<main class="app-main">
			<router-outlet></router-outlet>
		</main>
	</div>

	<div class="app-backdrop d-md-none" *ngIf="sidebarOpen" (click)="closeSidebar()"></div>
</div>

